{"version":3,"sources":["components/Header.js","components/Grid.js","components/GridTile.js","components/TileSelector.js","App.js","index.js"],"names":["header","props","react_default","a","createElement","onClick","save","type","value","fileName","onChange","Grid","grid","map","gridRow","gridItem","style","width","className","GridTile","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","state","x","y","tileData","tileClick","bind","assertThisInitialized","setState","currentTile","color","backgroundColor","data-id","changeColor","Component","TileSelector","selectTile","App","worldWidth","worldHeight","levelName","saveLayout","changeCurrentTile","changeLevelName","prevProps","prevState","createGrid","tileNumber","_this$state","layout","counter","tiles","document","querySelectorAll","i","length","j","push","parseInt","getAttribute","json","JSON","stringify","console","log","jsonWithKey","level","blob","Blob","FileSaver","saveAs","concat","_this$state2","tileCountX","tileCountY","components_GridTile","key","event","target","_this$state3","Header","components_Grid","components_TileSelector","ReactDOM","render","src_App","getElementById"],"mappings":"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","file":"static/js/main.f3699260.chunk.js","sourcesContent":["import React from 'react';\n\nconst header = props => {\n  return (\n    <header>\n      <button onClick={props.save}>Save</button>\n      <label>\n        Level name:\n        <input type=\"text\" value={props.fileName} onChange={props.onChange} />\n      </label>\n    </header>\n  );\n};\n\nexport default header;\n","import React from 'react';\n\nconst Grid = props => {\n  const grid = props.grid.map(gridRow => gridRow.map(gridItem => gridItem));\n\n  return (\n    <div style={{ width: props.width }} className=\"grid\">\n      {grid}\n    </div>\n  );\n};\n\nexport default Grid;\n","import React, { Component } from 'react';\n\nclass GridTile extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      x: props.x,\n      y: props.y,\n      tileData: -1,\n    };\n\n    this.tileClick = this.tileClick.bind(this);\n  }\n\n  tileClick() {\n    this.setState({\n      tileData: this.props.currentTile,\n    });\n  }\n\n  changeColor() {\n    const { tileData } = this.state;\n    let color = 'blue';\n\n    if (tileData === 0) {\n      color = 'green';\n    }\n\n    if (tileData === 1) {\n      color = 'brown';\n    }\n\n    return {\n      backgroundColor: color,\n    };\n  }\n\n  render() {\n    const { tileData } = this.state;\n\n    return (\n      <div\n        data-id={tileData}\n        style={this.changeColor()}\n        className=\"tile\"\n        onClick={this.tileClick}\n      >\n        Data:\n        {tileData}\n      </div>\n    );\n  }\n}\n\nexport default GridTile;\n","import React from 'react';\n\nconst TileSelector = props => {\n  return (\n    <div className=\"tile-selector\">\n      <ul>\n        <li>\n          <button onClick={() => props.selectTile(-1)}>Air</button>\n        </li>\n        <li>\n          <button onClick={() => props.selectTile(0)}>Grass</button>\n        </li>\n        <li>\n          <button onClick={() => props.selectTile(1)}>Ground</button>\n        </li>\n      </ul>\n    </div>\n  );\n};\n\nexport default TileSelector;\n","import React, { Component } from 'react';\nimport FileSaver from 'file-saver';\nimport Header from './components/Header';\nimport Grid from './components/Grid';\nimport GridTile from './components/GridTile';\nimport TileSelector from './components/TileSelector';\n\nclass App extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      worldWidth: 2400,\n      worldHeight: 800,\n      grid: [],\n      currentTile: -1,\n      levelName: '',\n    };\n\n    this.saveLayout = this.saveLayout.bind(this);\n    this.changeCurrentTile = this.changeCurrentTile.bind(this);\n    this.changeLevelName = this.changeLevelName.bind(this);\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    if (prevState.currentTile !== this.state.currentTile) {\n      this.createGrid();\n    }\n  }\n\n  componentDidMount() {\n    this.createGrid();\n  }\n\n  changeCurrentTile(tileNumber) {\n    this.setState({\n      currentTile: tileNumber,\n    });\n  }\n\n  saveLayout() {\n    const { grid, levelName } = this.state;\n    const layout = [];\n    let counter = 0;\n\n    if (levelName === '') {\n      return;\n    }\n\n    const tiles = document.querySelectorAll('.tile');\n\n    for (let i = 0; i < grid.length; i++) {\n      layout[i] = [];\n      for (let j = 0; j < grid[i].length; j++) {\n        layout[i].push(parseInt(tiles[counter].getAttribute('data-id')));\n        counter++;\n      }\n    }\n    const json = JSON.stringify(layout);\n    console.log(json);\n\n    const jsonWithKey = JSON.stringify({\n      level: layout,\n    });\n\n    const blob = new Blob([jsonWithKey], { type: 'application/json' });\n    FileSaver.saveAs(blob, `${levelName}.json`);\n  }\n\n  createGrid() {\n    const { worldWidth, worldHeight, currentTile } = this.state;\n    const tileCountX = worldWidth / 50;\n    const tileCountY = worldHeight / 50;\n\n    const grid = [];\n\n    for (let i = 0; i < tileCountY; i++) {\n      grid[i] = [];\n      for (let j = 0; j < tileCountX; j++) {\n        grid[i].push(\n          <GridTile\n            key={`${i}${j}`}\n            currentTile={this.state.currentTile}\n            x={j}\n            y={i}\n          />\n        );\n      }\n    }\n\n    this.setState({\n      grid,\n    });\n  }\n\n  changeLevelName(event) {\n    const { value } = event.target;\n\n    this.setState({\n      levelName: value,\n    });\n  }\n\n  render() {\n    const { worldWidth, grid, levelName } = this.state;\n    return (\n      <div className=\"App\">\n        <Header\n          levelName={levelName}\n          onChange={this.changeLevelName}\n          save={this.saveLayout}\n        />\n        <Grid grid={grid} width={worldWidth} />\n        <TileSelector selectTile={this.changeCurrentTile} />\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport './style.css';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}